/*! YOOtheme Pro v4.5.0 | https://yootheme.com */

(function(q,$){"use strict";function z(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function p(l){try{u(i.next(l))}catch(a){o(a)}}function h(l){try{u(i.throw(l))}catch(a){o(a)}}function u(l){l.done?s(l.value):r(l.value).then(p,h)}u((i=i.apply(n,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function B(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},W=B(J);const D="__googleMapsScriptId";var I;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(I||(I={}));class y{constructor({apiKey:e,authReferrerPolicy:t,channel:i,client:r,id:s=D,language:o,libraries:p=[],mapIds:h,nonce:u,region:l,retries:a=3,url:w="https://maps.googleapis.com/maps/api/js",version:b}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=i,this.client=r,this.id=s||D,this.language=o,this.libraries=p,this.mapIds=h,this.nonce=u,this.region=l,this.retries=a,this.url=w,this.version=b,y.instance){if(!W(this.options,y.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(y.instance.options)}`);return y.instance}y.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?I.FAILURE:this.done?I.SUCCESS:this.loading?I.LOADING:I.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(i=>{i?t(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(s=>!i[s]&&delete i[s]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(s=>{let o,p,h,u="The Google Maps JavaScript API",l="google",a="importLibrary",w="__ib__",b=document,c=window;c=c[l]||(c[l]={});const v=c.maps||(c.maps={}),P=new Set,E=new URLSearchParams,L=()=>o||(o=new Promise((S,C)=>z(this,void 0,void 0,function*(){var O;yield p=b.createElement("script"),p.id=this.id,E.set("libraries",[...P]+"");for(h in s)E.set(h.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),s[h]);E.set("callback",l+".maps."+w),p.src=this.url+"?"+E,v[w]=S,p.onerror=()=>o=C(Error(u+" could not load.")),p.nonce=this.nonce||((O=b.querySelector("script[nonce]"))===null||O===void 0?void 0:O.nonce)||"",b.head.append(p)})));v[a]?console.warn(u+" only loads once. Ignoring:",s):v[a]=(S,...C)=>P.add(S)&&L().then(()=>v[a](S,...C))})(i);const r=this.libraries.map(s=>this.importLibrary(s));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),s=>{const o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}async function _(n,{apiKey:e,type:t,center:i,zoom:r,fit_bounds:s,min_zoom:o,max_zoom:p,zooming:h,dragging:u,clustering:l,cluster_icons:a,controls:w,poi:b,markers:c,styler_invert_lightness:v,styler_hue:P,styler_saturation:E,styler_lightness:L,styler_gamma:S,popup_max_width:C,clustererUrl:O}){const R=new y({apiKey:e,version:"weekly"}),[{event:H,LatLng:j,LatLngBounds:X,Size:k,Point:Q},{Map:V,MapTypeId:Y,InfoWindow:ee,StyledMapType:te},{Marker:x},{MarkerClusterer:ie}]=await Promise.all(["core","maps","marker"].map(f=>R.importLibrary(f)).concat(l?import(O).then(f=>f.default):{})),g=new V(n,{zoom:Number(r),minZoom:Number(h?o:r),maxZoom:Number(h?p:r),zoomControl:h&&w?null:!1,scrollwheel:h?null:!1,center:new j(i.lat,i.lng),mapTypeId:Y[t.toUpperCase()],disableDefaultUI:!w,gestureHandling:u||h?"auto":"none",mapTypeControlOptions:{mapTypeIds:["styled_map","satellite"]}});g.getMapCapabilities=()=>({...g.mapCapabilities,isAdvancedMarkersAvailable:!1});let U;const T=new ee({maxWidth:C?parseInt(C,10):300});let N;if(l){const f={map:g};Array.isArray(a)&&(f.renderer={render({count:m,position:M}){let d;return m<10?d=a[0]:m<100?d=a[1]||a[0]:d=a[2]||a[1]||a[0],new x({position:M,icon:{url:d.url,scaledSize:d.size?new k(...d.size):null},label:{text:String(m),color:d.textColor?d.textColor:null,fontSize:"11px",fontWeight:"bold"},zIndex:Number(x.MAX_ZINDEX)+m})}}),N=new ie(f)}c==null||c.forEach(({lat:f,lng:m,content:M,show_popup:d,icon:F,iconSize:Z,iconAnchor:G,title:ne})=>{const A=new x({map:g,title:ne,position:new j(f,m)});if(F&&A.setIcon({url:F,scaledSize:Z?new k(...Z):null,anchor:G?new Q(...G):null}),N&&N.addMarker(A),M){const K=()=>{if(T.getMap()&&U===A){T.close();return}T.setContent(M),T.open(g,A),U=A};H.addListener(A,"click",K),d&&K()}});const re=new te([{featureType:"all",elementType:"all",stylers:[{invert_lightness:v},{hue:P},{saturation:E},{lightness:L},{gamma:S}]},{featureType:"poi",stylers:[{visibility:b?"on":"off"}]}],{name:"Map"});if(g.mapTypes.set("styled_map",re),t.toUpperCase()==="ROADMAP"&&g.setMapTypeId("styled_map"),s&&(c!=null&&c.length)){const f=new X;for(const{lat:m,lng:M}of c)f.extend(new j(m,M));g.fitBounds(f)}}q.component("Map",{connected(){var n,e,t;this.script||(this.script=$.$("script",this.$el)),this.script&&((n=this.map)!=null||(this.map=JSON.parse(this.script.textContent)),(e=this.templates)!=null||(this.templates=$.$$("template",this.$el)),(t=this.map.markers)==null||t.forEach((i,r)=>{i.content=$.html(this.templates[r]).trim(),!i.icon&&this.map.icon&&(i.icon=this.map.icon,i.iconSize=this.map.iconSize,i.iconAnchor=this.map.iconAnchor)}),this.map.lazyload&&"IntersectionObserver"in window?$.observeIntersection(this.$el,(i,r)=>{_(this.$el,this.map),r.disconnect()},{rootMargin:`${window.innerHeight/2}px 0px`}):_(this.$el,this.map))}})})(UIkit,UIkit.util);
